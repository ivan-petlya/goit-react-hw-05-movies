"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[253],{978:function(n,e,t){t.d(e,{H:function(){return b}});var r,a,o,i,s,c,u=t(168),p=t(444),h=t(87),d=p.ZP.li(r||(r=(0,u.Z)(["\n  padding: 4px;\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: 0px 1px 1px rgb(0 0 0 / 12%), 0px 4px 4px rgb(0 0 0 / 6%),\n    1px 4px 6px rgb(0 0 0 / 16%);\n\n  transform: scale(1);\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    transform: scale(1.03);\n  }\n"]))),l=(0,p.ZP)(h.rU)(a||(a=(0,u.Z)(["\n  text-decoration: none;\n  color: inherit;\n"]))),f=p.ZP.img(o||(o=(0,u.Z)(["\n  width: 100%;\n  border-radius: 4px;\n  height: 300px;\n  object-fit: cover;\n  margin-bottom: auto;\n"]))),x=p.ZP.div(i||(i=(0,u.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0 0 0;\n"]))),g=p.ZP.h4(s||(s=(0,u.Z)(["\n  max-width: 158px;\n"]))),v=p.ZP.p(c||(c=(0,u.Z)(["\n  padding: 2px 4px;\n  border-radius: 4px;\n  color: white;\n  background-color: orangered;\n\n  font-size: 12px;\n  font-weight: 600;\n"]))),m=t(689),w=t(184),b=function(n){var e=n.id,t=n.title,r=n.imagePath,a=n.vote,o=(0,m.TH)(),i=o.pathname,s=o.search,c="".concat(i).concat(s);return(0,w.jsx)(d,{children:(0,w.jsxs)(l,{to:"/movies/".concat(e),state:{from:c},children:[(0,w.jsx)(f,{src:r,alt:t}),(0,w.jsxs)(x,{children:[(0,w.jsx)(g,{children:t}),(0,w.jsx)(v,{children:a})]})]})})}},253:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var r,a,o,i,s,c=t(861),u=t(439),p=t(757),h=t.n(p),d=t(791),l=t(87),f=t(168),x=t(444),g=x.ZP.ul(r||(r=(0,f.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 16px;\n  margin-bottom: 20px;\n"]))),v=x.ZP.div(a||(a=(0,f.Z)(["\n  padding: 16px 0;\n"]))),m=x.ZP.form(o||(o=(0,f.Z)(["\n  position: relative;\n  width: 100%;\n  max-width: 350px;\n  margin: 0 auto;\n  border-radius: 4px;\n  overflow: hidden;\n"]))),w=x.ZP.input(i||(i=(0,f.Z)(["\n  display: inline-block;\n  width: 100%;\n  height: 33px;\n  font-size: 18px;\n  border: 1px solid black;\n  border-radius: 4px;\n  outline: none;\n  padding: 4px;\n\n  ::placeholder {\n    font: inherit;\n    font-size: 16px;\n  }\n"]))),b=x.ZP.button(s||(s=(0,f.Z)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  height: 100%;\n  display: inline-block;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-right: 6px;\n  padding-left: 7px;\n  cursor: pointer;\n  border: 1px solid orangered;\n  outline: none;\n\n  color: white;\n  background-color: orangered;\n\n  opacity: 1;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  :hover,\n  :focus {\n    opacity: 0.7;\n  }\n"]))),y=t(562),Z=t.n(y),k=t(184);function j(n){var e=n.onSubmit,t=n.onChange,r=(0,d.useState)(""),a=(0,u.Z)(r,2),o=a[0],i=a[1];return(0,k.jsx)(v,{children:(0,k.jsxs)(m,{onSubmit:function(n){if(n.preventDefault(),""===o.trim())return y.Notify.info("Please enter your query!");e(o),i("")},children:[(0,k.jsx)(b,{type:"submit",children:(0,k.jsx)("span",{children:"\ud83d\udd0d"})}),(0,k.jsx)(w,{type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:o,onChange:function(n){i(n.currentTarget.value.toLowerCase()),t(n.currentTarget.value.toLowerCase())}})]})})}var P=t(775),S=t(978),_=t(515),C=function(){var n,e=(0,l.lr)(),t=(0,u.Z)(e,2),r=t[0],a=t[1],o=(0,d.useState)(null!==(n=r.get("search"))&&void 0!==n?n:""),i=(0,u.Z)(o,2),s=i[0],p=i[1],f=(0,d.useState)([]),x=(0,u.Z)(f,2),v=x[0],m=x[1],w=(0,d.useState)(!1),b=(0,u.Z)(w,2),y=b[0],C=b[1];(0,d.useEffect)((function(){function n(){return(n=(0,c.Z)(h().mark((function n(){var e;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.Z.fetchSearchMovies(s);case 3:e=n.sent,console.log(e),m(e),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("something wrong"),Z().Notify.warning("No movies were found matching your search. try changing your query");case 12:return n.prev=12,C(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,8,12,15]])})))).apply(this,arguments)}s&&(C(!0),function(){n.apply(this,arguments)}())}),[s]);return(0,k.jsxs)("main",{children:[(0,k.jsx)(j,{onSubmit:function(n){p(n),m([])},onChange:function(n){a(""!==n?{search:n}:{})}}),y&&(0,k.jsx)(P.Z,{}),(0,k.jsx)(g,{children:v.map((function(n){var e=n.id,t=n.title,r=n.poster_path,a=n.vote_averange;return(0,k.jsx)(S.H,{id:e,title:t,imagePath:r?"https://image.tmdb.org/t/p/w500"+r:"https://via.placeholder.com/100x150",vote:a?a.toFixed(1):"No vote"},e)}))})]})}},515:function(n,e,t){var r=t(861),a=t(757),o=t.n(a),i=t(388).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"97c31631b31361f75213aa46907a2e0a",language:"en-US"}});function s(){return(s=(0,r.Z)(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("trending/movie/day");case 2:if(e=n.sent,(t=e.data.results).length){n.next=6;break}throw new Error("Sorry, there are no movies.");case 6:return n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function c(){return(c=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("movie/".concat(e));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(){return(u=(0,r.Z)(o().mark((function n(e){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("search/movie/?query=".concat(e));case 2:if(t=n.sent,r=t.response,(a=r.data.results).length){n.next=7;break}throw new Error("Nothing was found for your request");case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("search/movie?query=".concat(e));case 2:if(t=n.sent,(r=t.data.results).length){n.next=6;break}throw new Error("Sorry, there are no movies matching your search query. Please try again.");case 6:return n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("movie/".concat(e,"/credits"));case 2:if(t=n.sent,(r=t.data.cast).length){n.next=6;break}throw new Error("cast not found");case 6:return n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("movie/".concat(e,"/reviews"));case 2:if(t=n.sent,r=t.data.results){n.next=6;break}throw new Error("reviews not found");case 6:return n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var l={getTrendingMovies:function(){return s.apply(this,arguments)},getMovieById:function(n){return c.apply(this,arguments)},searchMovieQuery:function(n){return u.apply(this,arguments)},fetchSearchMovies:function(n){return p.apply(this,arguments)},getMovieCredits:function(n){return h.apply(this,arguments)},getMovieReviews:function(n){return d.apply(this,arguments)}};e.Z=l}}]);
//# sourceMappingURL=253.bfc96928.chunk.js.map